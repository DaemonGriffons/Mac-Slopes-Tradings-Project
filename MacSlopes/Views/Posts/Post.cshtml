@using Microsoft.AspNetCore.Mvc.Localization
@model PostDetailsViewModel
@{
    ViewData["Title"] = $"A Blog Post About {Model.Title}";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}


<div class="panel-header">
    <div class="header text-center">
        <h1 class="title">@Model.Title</h1>
        <h4 class="category text-white">
            @ViewData["Title"]<br /><br />
           

        </h4>
    </div>
</div>

<div class="content">
    <div class="row mt-2">
        <div class="col-md-12">
            <div class="card card-tasks">
                <div class="card-header">
                    <h2 class="card-title text-center">@Model.Description</h2>
                    <p class="card-category text-center text-info">
                        <i class="now-ui-icons users_single-02"></i>&nbsp;
                        @Model.Author
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <i class="now-ui-icons ui-1_calendar-60"></i>&nbsp;&nbsp;
                        @Model.DatePosted.ToLongDateString()
                     </p>
                </div>
                <div class="card-body">
                    <div class="row mx-4 my-4">
                        @if (!String.IsNullOrWhiteSpace(Model.Image))
                        {
                            var scr = $"/api/Images/{Model.Image}";
                            <img src="@scr" class="img-responsive w-100 h-25" style="max-height: 400px !important;" alt="@Model.Title image" />
                        }
                    </div>
                    <div class="row mt-3 mx-4 border-bottom">
                        @Html.Raw(Model.Body)
                    </div>
                    <div class="row mx-4 my-4">
                        <div class="col-md-8 mx-auto">
                            <div class="justify-content-center">
                                @foreach (var cat in Model.Categories)
                                {
                                    <span class="badge badge-blue">
                                        @cat.Name
                                    </span>
                                }
                            </div>
                        </div>
                    </div>
                    @if (!Model.MainComments.Any())
                    {
                        <div class="row mx-4 my-4">
                            <div class="col-md-8 mx-auto">
                                <div class="alert alert-danger alert-with-icon" data-notify="container">
                                    <span data-notify="icon" class="now-ui-icons objects_support-17"></span>
                                    <span data-notify="message">Aghhh.... Sorry<br />Nobody wants to share their thoughts just Yet</span>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="row">
                            <div class="col-md-12 mx-auto">

                                @foreach (var comment in Model.MainComments)
                                {
                                    <ul class="timeline">
                                        <li class="timeline">
                                            <div class="timeline-badge">
                                                <i class="now-ui-icons ui-2_chat-round"></i>
                                            </div>
                                            <div class="timeline-panel">
                                                <div class="timeline-heading">
                                                    <span class="badge badge-blue">@comment.Username</span>
                                                </div>
                                                <div class="timeline-body">
                                                    <p>@comment.Message</p>
                                                    <h6>
                                                        @comment.DatePosted.ToLongDateString()
                                                    </h6>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                }
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>